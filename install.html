

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installing and using the PyNAST command line application &mdash; PyNAST 1.2.2-dev documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.2.2-dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="PyNAST 1.2.2-dev documentation" href="index.html" />     
<meta http-equiv="Content-Style-Type" content="text/css" />
<script type="text/javascript" src="http://www.google.com/jsapi?key=ABQIAAAAdyJBQQABvxRaME0S-wyQoxTmluCkmlcBcOZMfdDozzndIHJ6lxRpv5opdXpr1SRwPuMUtSSFwWiDgw"></script>
<script type="text/javascript" src="_static/google_feed.js"></script>

  </head>
  <body>

<div style="background-color: white; text-align: left; padding: 10px 10px 15px 15px">
<a href="index.html">
	<h1>PyNAST: Python Nearest Alignment Space Termination tool</h1></a>
</div>


    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="index.html">home</a>|&nbsp;</li>
        <li><a href="search.html">search</a>&nbsp;</li>
 
      </ul>
    </div>

      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">

<h3><a href="http://pynast.wordpress.com/">PyNAST News and Announcements</a></h3>
<p>
<div class="news"><table style="font-size:12pt;padding: 5px;" id="feed">
</tr></table></div>	
</p>

    
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installing and using the PyNAST command line application</a><ul>
<li><a class="reference internal" href="#required-software">Required software</a></li>
<li><a class="reference internal" href="#optional-software">Optional software</a></li>
<li><a class="reference internal" href="#pip-installation-of-the-latest-stable-pynast-release-the-easy-way">pip installation of the latest stable PyNAST release: the easy way</a></li>
<li><a class="reference internal" href="#pip-installation-of-the-latest-development-version-of-pynast-the-easy-way">pip installation of the latest development version of PyNAST: the easy way</a></li>
<li><a class="reference internal" href="#manual-installation-the-harder-way">Manual installation: the harder way</a></li>
<li><a class="reference internal" href="#customizing-your-installation">Customizing your installation</a></li>
<li><a class="reference internal" href="#using-the-pynast-command-line-application">Using the PyNAST command line application</a></li>
</ul>
</li>
</ul>



<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="installing-and-using-the-pynast-command-line-application">
<h1>Installing and using the PyNAST command line application<a class="headerlink" href="#installing-and-using-the-pynast-command-line-application" title="Permalink to this headline">¶</a></h1>
<p>PyNAST is installable with <tt class="docutils literal"><span class="pre">pip</span></tt>, but also has non-python dependencies so installation is a little (but not much) more complicated than <tt class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pynast</span></tt>.</p>
<div class="section" id="required-software">
<h2>Required software<a class="headerlink" href="#required-software" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="http://qiime.org/pynast">PyNAST</a> is built on the <a class="reference external" href="http://pycogent.sourceforge.net">PyCogent</a> package, and uses <a class="reference external" href="http://www.drive5.com/uclust/">uclust</a>.</p>
<p>You must have uclust <a class="reference external" href="http://www.drive5.com/uclust/downloads1_2_22q.html">v1.2.22q</a> installed to run <a class="reference external" href="http://qiime.org/pynast">PyNAST</a>. You should first obtain uclust, and install it according to the instructions provided by their authors.</p>
<p><a class="reference external" href="http://qiime.org/pynast">PyNAST</a> also depends on <a class="reference external" href="http://pycogent.sourceforge.net">PyCogent</a> and <a class="reference external" href="http://numpy.scipy.org/">NumPy</a>. If you install PyNAST using the <tt class="docutils literal"><span class="pre">pip</span></tt> instructions below, these will be installed for you. Alternatively, you can download and install each according to the instructions on the project websites.</p>
</div>
<div class="section" id="optional-software">
<h2>Optional software<a class="headerlink" href="#optional-software" title="Permalink to this headline">¶</a></h2>
<p>If you&#8217;d like to perform pairwise alignments using <a class="reference external" href="ftp://ftp.ncbi.nlm.nih.gov/blast/executables/release/2.2.22/">BLAST</a>, <a class="reference external" href="http://www.drive5.com/muscle/">MUSCLE</a>, <a class="reference external" href="http://align.bmr.kyushu-u.ac.jp/mafft/online/server/">MAFFT</a>, or <a class="reference external" href="http://www.ebi.ac.uk/Tools/clustalw2/index.html">ClustalW</a>, you must have those programs installed on your machine and in your system path. Currently tested versions are <a class="reference external" href="ftp://ftp.ncbi.nlm.nih.gov/blast/executables/release/2.2.22/">BLAST</a> 2.2.22, <a class="reference external" href="http://www.drive5.com/muscle/">MUSCLE</a> v3.8.31, MAFFT v6.602b (<strong>MAFFT v6.925b is known to NOT work with PyNAST</strong>), and ClustalW 1.81 or 1.83. Note that PyNAST makes use of the legacy BLAST software, not BLAST+.</p>
</div>
<div class="section" id="pip-installation-of-the-latest-stable-pynast-release-the-easy-way">
<h2>pip installation of the latest stable PyNAST release: the easy way<a class="headerlink" href="#pip-installation-of-the-latest-stable-pynast-release-the-easy-way" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Download and install <a class="reference external" href="http://www.drive5.com/uclust/">uclust</a>. Binaries are available (<a class="reference external" href="http://www.drive5.com/uclust/downloads1_2_22q.html">uclust v1.2.22q binaries</a>).</li>
<li>Run <tt class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">numpy</span></tt></li>
<li>Run <tt class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">pynast</span></tt></li>
</ol>
<p>That&#8217;s it! You should now have a working <tt class="docutils literal"><span class="pre">PyNAST</span></tt> installation. (Note that you must run <a href="#id1"><span class="problematic" id="id2">``</span></a>pip` in two steps, due to an <a class="reference external" href="https://github.com/pycogent/pycogent/issues/59">issue with PyCogent</a>.)</p>
</div>
<div class="section" id="pip-installation-of-the-latest-development-version-of-pynast-the-easy-way">
<h2>pip installation of the latest development version of PyNAST: the easy way<a class="headerlink" href="#pip-installation-of-the-latest-development-version-of-pynast-the-easy-way" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Download and install <a class="reference external" href="http://www.drive5.com/uclust/">uclust</a>. Binaries are available (<a class="reference external" href="http://www.drive5.com/uclust/downloads1_2_22q.html">uclust v1.2.22q binaries</a>).</li>
<li>Run <tt class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">numpy</span></tt></li>
<li>Run <tt class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">git://github.com/qiime/pynast.git</span></tt></li>
</ol>
<p>That&#8217;s it! You should now have a working <tt class="docutils literal"><span class="pre">PyNAST</span></tt> installation. (Note that you must run <a href="#id4"><span class="problematic" id="id5">``</span></a>pip` in two steps, due to an <a class="reference external" href="https://github.com/pycogent/pycogent/issues/59">issue with PyCogent</a>.)</p>
</div>
<div class="section" id="manual-installation-the-harder-way">
<h2>Manual installation: the harder way<a class="headerlink" href="#manual-installation-the-harder-way" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Download <a class="reference external" href="http://pycogent.sourceforge.net">PyCogent</a> 1.5.3 (<a class="reference external" href="http://sourceforge.net/projects/pycogent/files/PyCogent/1.5.3/PyCogent-1.5.3.tgz/download">src</a>) and its dependencies, <a class="reference external" href="http://www.python.org">Python</a> 2.6 or greater (but less than Python 3.0) and NumPy 1.3.0 or greater. PyNAST was tested with Python 2.7.1 and 2.7.2 and NumPy 1.5.1, though other versions may work as well.</p>
</li>
<li><p class="first">Download and install <a class="reference external" href="http://www.drive5.com/uclust/">uclust</a>. Binaries are available (<a class="reference external" href="http://www.drive5.com/uclust/downloads1_2_22q.html">uclust v1.2.22q binaries</a>).</p>
</li>
<li><p class="first">From your command terminal on an OS X or Linux system, change to the directory where you wish to install <a class="reference external" href="http://qiime.org/pynast">PyNAST</a>. You can either download <a class="reference external" href="https://pypi.python.org/pypi/pynast">PyNAST from PyPI</a>, or if you want the latest development version you can checkout the latest version of <a class="reference external" href="http://qiime.org/pynast">PyNAST</a> from the GitHub repository with the command:</p>
<div class="highlight-python"><pre>git clone git://github.com/qiime/pynast.git pynast</pre>
</div>
</li>
<li><p class="first">If you downloaded from GitHub, you will have a new folder in the current working directory called <tt class="docutils literal"><span class="pre">pynast</span></tt>. If you downloaded PyPI, after untar/unzipping the <tt class="docutils literal"><span class="pre">tar.gz</span></tt> file, you will have a new directory named <tt class="docutils literal"><span class="pre">pynast-&lt;version&gt;</span></tt>, where <tt class="docutils literal"><span class="pre">&lt;version&gt;</span></tt> is the PyNAST version number. Change to whichever of these directories is relevant for your install procedure, for example:</p>
<div class="highlight-python"><pre>cd pynast</pre>
</div>
</li>
<li><p class="first">Run <tt class="docutils literal"><span class="pre">setup.py</span></tt>. You may need to do this as root (see <a class="reference internal" href="#customizing-your-installation"><em>Customizing your installation</em></a> below if this is not an option, or if you&#8217;d like to install the PyNAST library code and/or scripts in non-default locations):</p>
<div class="highlight-python"><pre>python setup.py install</pre>
</div>
</li>
<li><p class="first">To test your installation, you should run the test suite with the following command. All tests should pass, unless you don&#8217;t have <a class="reference external" href="http://www.drive5.com/muscle/">MUSCLE</a>, <a class="reference external" href="http://align.bmr.kyushu-u.ac.jp/mafft/online/server/">MAFFT</a>, and/or <a class="reference external" href="http://www.ebi.ac.uk/Tools/clustalw2/index.html">ClustalW</a> installed. These are optional external software packages, and you will get one test failure per missing software package. You can ignore test failures which indicate that these programs cannot be found.</p>
<div class="highlight-python"><pre>python tests/all_tests.py</pre>
</div>
</li>
<li><p class="first">If all tests pass, you are ready to use PyNAST. You can get the usage information for the command line version of <a class="reference external" href="http://qiime.org/pynast">PyNAST</a> with the following command anywhere on your system:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cd</span>
<span class="n">pynast</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="customizing-your-installation">
<span id="id8"></span><h2>Customizing your installation<a class="headerlink" href="#customizing-your-installation" title="Permalink to this headline">¶</a></h2>
<p>PyNAST consists of library code and a script. By default the script will be installed in <tt class="docutils literal"><span class="pre">/usr/local/bin</span></tt>. This can be customized with the <tt class="docutils literal"><span class="pre">--install_scripts</span></tt> option:</p>
<div class="highlight-python"><pre>python setup.py install --install-scripts=$HOME/bin/</pre>
</div>
<p>You can similarly install the library code in an alternate location using the <tt class="docutils literal"><span class="pre">--install-purelib</span></tt> option:</p>
<div class="highlight-python"><pre>python setup.py install --install-purelib=$HOME/lib/</pre>
</div>
<p>A combination of these options is also possible:</p>
<div class="highlight-python"><pre>python setup.py install --install-scripts=$HOME/bin/ --install-purelib=$HOME/lib/</pre>
</div>
<p>For a complete discussion of customizations related to the setup.py script, <a class="reference external" href="http://docs.python.org/install/index.html#alternate-installation-the-home-scheme">see this page</a>.</p>
<p>If you specify an alternate directory for <tt class="docutils literal"><span class="pre">--install-purelib</span></tt>, you&#8217;ll need to ensure that python knows where to look for the pynast module. Following the example above, you would do this with the following commands:</p>
<div class="highlight-python"><pre>echo "export PYTHONPATH=$HOME/lib/:$PYTHONPATH" &gt;&gt; $HOME/.bashrc
source $HOME/.bashrc</pre>
</div>
<p>Similarly, if you specify an alternate directory for <tt class="docutils literal"><span class="pre">--install-scripts</span></tt>, you&#8217;ll need to ensure that the shell knows where to look for executable files. Following the example above, you would do this with the following commands:</p>
<div class="highlight-python"><pre>echo "export PATH=$HOME/bin/:$PATH" &gt;&gt; $HOME/.bashrc
source $HOME/.bashrc</pre>
</div>
</div>
<div class="section" id="using-the-pynast-command-line-application">
<h2>Using the PyNAST command line application<a class="headerlink" href="#using-the-pynast-command-line-application" title="Permalink to this headline">¶</a></h2>
<p>After installing the <a class="reference external" href="http://qiime.org/pynast">PyNAST</a> software as described above, you should download the sample candidate sequences and template alignment. You can then apply the <a class="reference external" href="http://qiime.org/pynast">PyNAST</a> command line tool as follows:</p>
<div class="highlight-python"><pre>pynast -i candidate_seqs_sample.fasta -t template_sample.fasta</pre>
</div>
<p>This will result in three files being written to the current working directory: <tt class="file docutils literal"><span class="pre">candidate_seqs_sample_pynast_aligned.fasta</span></tt>, <tt class="file docutils literal"><span class="pre">candidate_seqs_sample_pynast_log.txt</span></tt>, and <tt class="file docutils literal"><span class="pre">candidate_seqs_sample_pynast_fail.fasta</span></tt>, which correspond to the alignment, the run log, and the list of sequences which failed to align, respectively.</p>
<p>To get usage information for the <a class="reference external" href="http://qiime.org/pynast">PyNAST</a> command line application run:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">pynast</span> <span class="o">-</span><span class="n">h</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="index.html">home</a>|&nbsp;</li>
        <li><a href="search.html">search</a>&nbsp;</li>
 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2010, Greg Caporaso.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-6636235-3");
pageTracker._trackPageview();
} catch(err) {}</script>

  </body>
</html>